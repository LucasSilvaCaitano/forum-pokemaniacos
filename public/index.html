<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div class="header">
        <div class="banner">

            <div class="container">
                <div class="logo">

                    <h1>Fórum Pokémaniacos
                    </h1>

                </div>
                <div class="navs">
                    <ul class="navbar navLeft">
                        <li><a href="index.html">Inicio</a></li>
                        <!--        <li><a href="forum.html">Fórum</a></li>-->
                    <!--    <li><a href="index.html">Regras</a></li>-->
                        <!--<li><a href="membros.html">Membros</a></li>-->
                    </ul>
                    <ul class="navbar navRight" id="bntsLogin">
                        <li><a href="#" data-modal="modalLogin">Login</a></li>
                        <li><a href="#" data-modal="modalCadastro">Cadastro</a></li>
                    </ul>
                    <ul class="navbar navRight" style="display: none;" id="bntsPerfil">
                        <!--<li><a href="#">Perfil</a></li>-->
                        <li><a href="simulador.html">Simulador</a></li>
                        <li><a href="#" onclick="sair()">Sair</a></li>
                    </ul>
                </div>
            </div>
            <h1 class="msg">O lugar onde os treinadores se reunem</h1>
            <h1 class="msg" id="msgBemVindo">Faça já o seu <a data-modal="modalCadastro" style="text-decoration: underline; cursor: pointer;">cadastro</a> e junte-se há mais de <span id="spanQtdUsuarios"></span> treinadores
            </h1>
        </div>
    </div><!--
    <div style="padding: 15px 25px; background-color: var(--corSecundaria); color: white; position: fixed; right: 0; top: 0; display: flex; justify-content: space-between; align-items: center;">
        <img src="https://c.tenor.com/fSsxftCb8w0AAAAi/pikachu-running.gif" alt="" style="width: 50px; height: 50px; transform: scaleX(-1);"> 
        Logado com sucesso!
    </div>-->
    <div class="main">

        <div class="container">
            <div class="categorias">
                <div class="subCategorias">
                    <!--
                    <div class="card">
                        <div class="cardHeader">
                            <img src="/img/foto.jpg">
                            <h1 class="cardTitulo">Novidades</h1>
                        </div>
                        <div class="cardContent">
                            <div class="descricaoSubCategoria">Novidades relacionadas ao fórum</div>
                            <div class="metricasSubCategoria">
                                <dl>
                                    <dt>Tópicos</dt>
                                    <dd>1</dd>
                                </dl>
                                <dl>
                                    <dt>Mensagens</dt>
                                    <dd>0</dd>
                                </dl>
                            </div>
                        </div>
                        <div class="cardFooter">
                            <div class="cardFooterContent">
                                <div class="ultimoTopico">
                                    <img src="img/foto.jpg">
                                    <div class="topicoUsuario">
                                        <p>
                                            aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
                                        </p>
                                        <p>Lucas123 - 15/11/2021</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="card">
                    <div class="cardHeader"><img src="/img/foto.jpg">
                        <h1 class="cardTitulo">Boas vindas</h1>
                    </div>
                    <div class="cardContent">
                        <div class="descricaoSubCategoria">Novo no fórum? apresente-se aqui</div>
                        <div class="metricasSubCategoria">
                            <dl>
                                <dt>Tópicos</dt>
                                <dd>4</dd>
                            </dl>
                            <dl>
                                <dt>Mensagens</dt>
                                <dd>6</dd>
                            </dl>
                        </div>
                    </div>
                    <div class="cardFooter">
                        <div class="cardFooterContent">
                            <p>Apresentação Ana</p>
                            <p>Ana - 15/11/2021</p>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="cardHeader"><img src="/img/foto.jpg">
                        <h1 class="cardTitulo">Sugestões</h1>
                    </div>
                    <div class="cardContent">
                        <div class="descricaoSubCategoria">Tem uma idéia do que acrescentar no fórum? poste aqui
                        </div>
                        <div class="metricasSubCategoria">
                            <dl>
                                <dt>Tópicos</dt>
                                <dd>0</dd>
                            </dl>
                            <dl>
                                <dt>Mensagens</dt>
                                <dd>0</dd>
                            </dl>
                        </div>
                    </div>
                    <div class="cardFooter">
                        <div class="cardFooterContent">
                            <p></p>
                            <p>null - null</p>
                        </div>
                    </div>
                </div>-->

                </div>
            </div>
            <div class="cardStatics">

                <div class="card" id="perfil" style="display: none;">
                    <div class="cardHeader">
                        <h3 class="cardTitulo">
                            Informações do perfil
                        </h3>
                    </div>
                    <div class="cardContent">

                        <img src="" alt="" id="fotoPerfil" data-modal="modalFotoPerfil" title="Editar foto">

                        <dl class="metricasBetween">
                            <dt>Nome:</dt>
                            <dd id="nomeUsuario">a</dd>
                        </dl>

                        <dl class="metricasBetween">
                            <dt>Tópicos</dt>
                            <dd id="topicosUsuario">a</dd>
                        </dl>

                        <dl class="metricasBetween">
                            <dt>Mensagens:</dt>
                            <dd id="mensagensUsuario">a</dd>
                        </dl>
                    </div>

                </div>

                <div class="card">
                    <div class="cardHeader">
                        <h3 class="cardTitulo" style="font-size: 15px;">
                            Últimos membros logados
                        </h3>
                    </div>
                    <div class="cardContent" id="divUsuariosOnline">

                    </div>
                    <div class="cardFooter">
                        <div class="cardFooterContent">
                            Quantidade: <span id="spanQtdMembrosOnline"></span>

                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="cardHeader">
                        <h3 class="cardTitulo">
                            Estatísticas
                        </h3>
                    </div>
                    <div class="cardContent">

                        <dl class="estatistica">
                            <dt>Tópicos:</dt>
                            <dd id="pTopicos"></dd>
                        </dl>
                        <dl class="estatistica">
                            <dt>Mensagens:</dt>
                            <dd id="pMensagens"></dd>
                        </dl>
                        <dl class="estatistica">
                            <dt>Membros:</dt>
                            <dd id="pMembros"></dd>
                        </dl>
                        <dl class="estatistica">
                            <dt>Último membro:</dt>
                            <dd id="pUltimoMembro"></dd>
                        </dl>
                    </div>

                </div>

            </div>
        </div>

    </div>

    <div class="footer">
        <div class="container">
            <p>© 2021 - Lucas todos os direitos reservados</p>

        </div>
    </div>

    <div id="modalLogin" class="modalFundo">
        <div class="modal">
            <div class="modalHeader">
                <a class="close" href="#">&times;</a>
                <h1>Login</h1>
            </div>

            <div class="modalContent">
                <form id="formLogin" onsubmit="return logar()">
                    <span>E-Mail:</span>
                    <input type="email" name="email" placeholder="Email">
                    <span>Senha:</span>
                    <input type="password" name="senha" placeholder="Sua senha">

                    <button class="btn">Login</button>
                </form>
            </div>

        </div>
    </div>

    <div id="modalCadastro" class="modalFundo">
        <div class="modal">
            <div class="modalHeader">
                <a class="close" href="#">&times;</a>
                <h1>Cadastro</h1>
            </div>

            <div class="modalContent">
                <form id="formCadastro" method="post" onsubmit="return cadastrarUsuario()">
                    <span>Nome de usuário</span>
                    <input type="text" name="nomeUsuario" placeholder="Nome de usuário">
                    <span>E-Mail:</span>
                    <input type="email" name="email" placeholder="Email">
                    <span>Gênero:</span>
                    <div class="genero">
                        <input type="radio" name="genero" id="generoM" value="M">
                        <label for="m">Masculino</label>
                        <input type="radio" name="genero" id="generoF" value="F">
                        <label for="m">Feminino</label>
                    </div>
                    <span>Senha:</span>
                    <input type="password" name="senha" placeholder="Sua senha">
                    <span>Confirmar Senha:</span>
                    <input type="password" name="confSenha" placeholder="Confirmar senha">

                    <button class="btn">Cadastrar</button>
                </form>
            </div>

        </div>
    </div>

    <div id="modalFotoPerfil" class="modalFundo">
        <div class="modal">
            <div class="modalHeader">
                <a class="close" href="#">&times;</a>
                <h1>Editar foto de perfil</h1>
            </div>

            <div class="modalContent">
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <img src="" alt="" width="100px" height="100px" id="fotoPerfilEditar">
                    <span>Insira o nome ou um número de um Pokémon</span>
                    <input type="text" id="iptPokemon" oninput="pesquisarPokemon()">
                </div>
                <form id="formEditarFoto" method="post" onsubmit="return editarFoto()">
                    <input type="hidden" name="fotoUsuario" id="fotoUsuario">
                    <button class="btn">Editar foto</button>
                </form>
            </div>

        </div>
    </div>

    <script src="js/script.js"></script>
    <script src="js/addElementos.js"></script>
    <script>
        carregarCategorias();
        contarTopicos();
        contarMsgs();
        validarSessao();
        carregarMembrosOnline();
        carregarUltimoMembro();
        

        if (sessionStorage.ID_USUARIO != null) {

            document.getElementById('msgBemVindo').innerHTML= `Bem vindo ${sessionStorage.NOME_USUARIO}`;

            perfil.style.display = 'flex';
            fotoPerfil.src = sessionStorage.FOTO_USUARIO;
            fotoPerfilEditar.src = sessionStorage.FOTO_USUARIO;
            nomeUsuario.innerText = sessionStorage.NOME_USUARIO;
            topicosUsuario.innerText = sessionStorage.QTD_TOPICOS;
            mensagensUsuario.innerText = sessionStorage.QTD_MENSAGENS;
            
        }

        carregarQtdMembros();
    </script>
</body>

</html>